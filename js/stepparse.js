var _ = [currentPath[f-1],
		 currentPath[f],
		 currentPath[f+1],
		 currentPath[f+2]]

function stepper(a,x,y){
	x = a[0];
   	y =  a[1]	
}

a ? stepper(a,x,y)
if -1 && 1
		if 0
				if reduce x, y

	
c	cy,dy , by,cy   1121 0111    =   4,0 //north 
c	cx,dx , bx,cx	1020 0001	 =   3,1 //south
c	by,ay , by,cy   01-11 0111   =   3,0 //east
c	bx,ax , bx,cx	00-10 0010   =   4,1 //west
 
	function $(b,c,a){
		var b = _[b][a] - _[c][a];
		var d = _[b][~~!a] > _[c][~~!a]; 
		d ? (depth += depth === 0 ? 0 : .1) :
		    (depth -= depth === 1 ? 0 : .1) ; 
		return b
	}
	
	[e[2] !== 1 ? (	 
    _[2][1]-_[3][1]+ _[1][1]-_[2][1] ?( $(1,2,1), c =1 , [4,0] ) : (
    _[2][0]-_[3][0]+ _[1][0]-_[2][0] ?( $(1,2,0), c =1 , [3,1] ) : [0,0]     )) : (
    _[1][1]-_[0][1]+ _[1][1]-_[2][1] ?( $(1,2,1), c =0 , [3,0] ) : (
    _[1][0]-_[0][0]+ _[1][0]-_[2][0] ?( $(1,2,0), c =0 , [4,1] ) : 
	 [0,0]))] = [_[2][0],_[2][1]]; _[2][2] = c; 
	_[0][2] ? (dust[1,1] = _[1]) : null; 	

dust[
	cy === dy && by === cy ? 4 : 


	]







stepb = currentPath[f-1];

stepb ? (ax=stepb[0],ay=stepb[1]) : null;

bx = e[0];
by = e[1];

step = currentPath[f+1];

step ? (cx = step[0], cy = step[1])

step2 = currentPath[f+2];

step2 ? (dx = step2[0], dy = step2[1]) 

//                    
depthctx(e,2).globalAlpha = depth;e[3] = depth;
depthctx(e,2).fillRect((e[1]%9)*32,(e[0]%9)*32,32,32);
//                    
 
stepb && step2 ? 
		( e[2] !== 1 ?
		 ( (cy === dy ) && (by === cy) ? 
			( dust[[4,0]] =  [cx,cy] , step[2]= 1,
			  bx < cx ? (depth += depth === 1 ? 0 : 0.10) 
 		    : ( depth -= depth === 1 ? 0 : 0.10,
			   stepb[2] !== 1 ?
				( dust[[1,1]] = [bx,by])
      
//  vertical
 }else if(   (cx === dx)
      &&          (bx === cx)){
      dust[[3,1]]  = [cx,cy];
      step[2]= 1; 
 if(by < cy){
      depth += depth === 1 ? 0 : 0.10;
 }else{
      depth -= depth === 1 ? 0 : 0.10;
      }
 if(stepb[2] !== 1){
      dust[[1,1]] = [bx,by];    
      }
//  default
 }else{
      dust[[1,1]] = [bx,by];    
      step[2] = 0;
      }
 }else if(e[2] === 1){
//  horizontal
 if(         (by === ay)
      &&          (by === cy)){
      dust[[3,0]] =  [cx,cy]
 if(bx > cx){
      depth -= depth === 0 ? 0 : .1
 }else{
      depth += depth === 0 ? 0 : .1
      }
      step[2] = 0;
//  vertical
 }else if(   (bx === ax)
      &&  (bx === cx)){
      dust[[4,1]] =  [cx,cy]
                                
 if(by < cy){
      depth -= depth === 0 ? 0 : .1
 }else{
      depth += depth === 0 ? 0 : .1
      }
      step[2] = 0;
//  default
 }else{
      dust[[0,0]] = [bx,by];    
      step[2] = 0;   
      }
 }else{
     dust[[1,1]] = [bx,by];    
     step[2] = 0;    
    }
   }

